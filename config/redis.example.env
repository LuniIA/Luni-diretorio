# Configuração Redis para Luni
# Copie este arquivo para .env e ajuste conforme necessário

# ============================================================================
# REDIS - CONFIGURAÇÃO PRINCIPAL
# ============================================================================

# Ativa/desativa Redis (1=ativo, 0=fallback para arquivos)
USE_REDIS=1

# URL de conexão Redis
# Formato: redis://[username:password@]host[:port][/database]
REDIS_URL=redis://127.0.0.1:6379

# TTL em segundos para dados no Redis (72 horas = 259200 segundos)
REDIS_TTL_SECONDS=259200

# ============================================================================
# REDIS - CONFIGURAÇÃO AVANÇADA
# ============================================================================

# Timeout de conexão em ms
REDIS_CONNECT_TIMEOUT=5000

# Número máximo de tentativas de reconexão
REDIS_MAX_RETRIES=3

# Tamanho máximo da fila de comandos
REDIS_QUEUE_MAX_LENGTH=1000

# Pool de conexões (min, max)
REDIS_POOL_MIN=0
REDIS_POOL_MAX=10

# ============================================================================
# EXEMPLOS DE CONFIGURAÇÃO
# ============================================================================

# Local (Docker)
# REDIS_URL=redis://127.0.0.1:6379

# Local (Docker com senha)
# REDIS_URL=redis://default:senha-forte@127.0.0.1:6379

# Produção (Upstash)
# REDIS_URL=redis://default:senha@host.upstash.io:port

# Produção (Redis Cloud)
# REDIS_URL=redis://default:senha@host.redis.cloud:port

# Produção (AWS ElastiCache)
# REDIS_URL=redis://host.elasticache.amazonaws.com:6379

# ============================================================================
# COMANDOS DOCKER PARA INICIAR REDIS LOCAL
# ============================================================================

# Windows (PowerShell):
# docker run -d --name redis-luni -p 6379:6379 redis:7 redis-server --requirepass senha-forte --maxmemory 512mb --maxmemory-policy allkeys-lru

# Linux/Mac:
# docker run -d --name redis-luni -p 6379:6379 redis:7 redis-server --requirepass senha-forte --maxmemory 512mb --maxmemory-policy allkeys-lru

# ============================================================================
# MONITORAMENTO
# ============================================================================

# Ativa logs detalhados do Redis
DEBUG=true

# Nível de log (error, warn, info, debug)
LOG_LEVEL=info

# ============================================================================
# TWILIO - CONFIGURAÇÃO WHATSAPP
# ============================================================================

# Credenciais do Twilio
TWILIO_ACCOUNT_SID=your_account_sid_here
TWILIO_AUTH_TOKEN=your_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890

# ============================================================================
# SERVIDOR - CONFIGURAÇÃO
# ============================================================================

# Porta do servidor
PORT=3000

# Ambiente (development, staging, production)
NODE_ENV=development

# URLs permitidas para CORS
ALLOWED_ORIGINS=https://webhook.twilio.com,https://your-domain.com

# ============================================================================
# STT - CONFIGURAÇÃO TRANSCRIÇÃO DE ÁUDIO
# ============================================================================

# Provedor de transcrição (openai | whisper)
STT_PROVIDER=openai

# Modelo OpenAI para transcrição
OPENAI_STT_MODEL=whisper-1

# Idioma para transcrição
STT_LANGUAGE=pt

# Duração máxima de áudio em segundos (3 minutos)
STT_MAX_DURATION=180

# Diretório temporário para arquivos de áudio
TEMP_DIR=/tmp
